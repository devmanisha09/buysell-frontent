"use strict";(self["webpackChunkflutter_buy_sell"]=self["webpackChunkflutter_buy_sell"]||[]).push([[9079],{6626:function(t,e,i){var n=i(655),o=i(6921),s=i(3616),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.description="",e.message="",e.addedDate="",e.addedUserId="",e.isRead="",e.addedDateStr="",e.defaultPhoto=new s.Z,e}return(0,n.ZT)(e,t),e.prototype.init=function(t,e,i,n,o,s,r,a){return this.id=t,this.description=e,this.message=i,this.addedDate=n,this.addedUserId=o,this.isRead=s,this.addedDateStr=r,this.defaultPhoto=a,this},e.prototype.getPrimaryKey=function(){return this.id},e.prototype.toMap=function(t){var e={};return e["id"]=t.id,e["description"]=t.description,e["message"]=t.message,e["added_date"]=t.addedDate,e["added_user_id"]=t.addedUserId,e["is_read"]=t.isRead,e["added_date_str"]=t.addedDateStr,e["default_photo"]=(new s.Z).toMap(t.defaultPhoto),e},e.prototype.toMapList=function(t){for(var e=[],i=0;i<t.length;i++)null!=t[i]&&e.push(this.toMap(t[i]));return e},e.prototype.fromMap=function(t){return(new e).init(t.id,t.description,t.message,t.added_date,t.added_user_id,t.is_read,t.added_date_str,(new s.Z).fromMap(t.default_photo))},e.prototype.fromMapList=function(t){var e=[];for(var i in t)null!=i&&e.push(this.fromMap(i));return e},e}(o.L);e["Z"]=r},8593:function(t,e,i){i.d(e,{ZK:function(){return p}});var n=i(655),o=i(2262),s=i(4578),r=i(2255),a=i(1597),d=i(6626),l=function(){function t(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.message="",this.type=""}return t.prototype.ChatNotiPrameterHolder=function(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.message="",this.type=""},t.prototype.toMap=function(){var t={};return t["item_id"]=this.itemId,t["buyer_user_id"]=this.buyerUserId,t["seller_user_id"]=this.sellerUserId,t["message"]=this.message,t["type"]=this.type,t},t}(),u=l,c=i(2317),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isNoMoreRecord=(0,o.qj)(!1),e.notiList=(0,o.qj)(new a.Z),e.noti=(0,o.qj)(new a.Z),e.loading=(0,o.qj)({value:!1}),e.limit=30,e.offset=0,e}return(0,n.ZT)(e,t),e.prototype.updateNotiList=function(t){var e;null!=this.notiList&&null!=this.notiList.data&&this.notiList.data.length>0&&0!=this.offset?(null!=t.data&&t.data.length>0?(e=this.notiList.data).push.apply(e,t.data):this.isNoMoreRecord=!0,this.notiList.code=t.code,this.notiList.status=t.status,this.notiList.message=t.message):this.notiList=t,null!=this.notiList&&null!=this.notiList.data&&(this.offset=this.notiList.data.length)},e.prototype.loadNotiList=function(t){return(0,n.mG)(this,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(i){switch(i.label){case 0:return this.loading.value=!0,[4,r.Z.getNotificationList(new d.Z,this.limit,this.offset,t.toMap())];case 1:return e=i.sent(),this.updateNotiList(e),this.loading.value=!1,[2]}}))}))},e.prototype.resetNotiList=function(t){return(0,n.mG)(this,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(i){switch(i.label){case 0:return this.offset=0,this.loading.value=!0,[4,r.Z.getNotificationList(new d.Z,this.limit,this.offset,t.toMap())];case 1:return e=i.sent(),this.updateNotiList(e),this.loading.value=!1,[2]}}))}))},e.prototype.postNoti=function(t){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){switch(e.label){case 0:return this.offset=0,this.loading.value=!0,[4,r.Z.postNoti(new d.Z,t.toMap())];case 1:return e.sent(),this.loading.value=!1,[2]}}))}))},e.prototype.loadNoti=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){var i;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return this.loading.value=!0,i=this,[4,r.Z.getNotiDetail(new d.Z,t,e,this.limit,this.offset)];case 1:return i.noti=n.sent(),this.loading.value=!1,[2]}}))}))},e.prototype.postChatNoti=function(t,e,i,o,s){return(0,n.mG)(this,void 0,void 0,(function(){var a;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return a=new u,a.itemId=t,a.sellerUserId=e,a.buyerUserId=i,a.message=o,a.type=s,[4,r.Z.postChatNoti(new c.Z,a.toMap())];case 1:return n.sent(),[2]}}))}))},e.prototype.registerNotiToken=function(t){return(0,n.mG)(this,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(i){switch(i.label){case 0:return this.loading.value=!0,[4,r.Z.rawRegisterNotiToken(new c.Z,t.toMap())];case 1:return e=i.sent(),this.loading.value=!1,[2,e]}}))}))},e.prototype.unRegisterNotiToken=function(t){return(0,n.mG)(this,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(i){switch(i.label){case 0:return this.loading.value=!0,[4,r.Z.rawUnRegisterNotiToken(new c.Z,t.toMap())];case 1:return e=i.sent(),this.loading.value=!1,[2,e]}}))}))},e}(s.n),p=(Symbol("NotiProvider"),function(){return(0,o.qj)(new h)})},2225:function(t,e,i){i.d(e,{Z:function(){return h}});var n=i(6252),o=i(3577),s={class:"w-mobile sm:w-median lg:w-large mx-auto mt-2"},r=["data-ad-client","data-ad-format","data-ad-slot"];function a(t,e,i,a,d,l){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("ins",{class:"adsbygoogle",style:(0,o.j5)(i.adStyle),"data-ad-client":i.adClient,"data-ad-format":i.adFormat,"data-ad-slot":i.adSlot},null,12,r)])}var d=i(4252),l={name:"PsAdSense",props:{adStyle:{type:String,required:!1,default:"display:inline-block"},adClient:{type:String,required:!1,default:d.Z.adClient},adFormat:{type:String,required:!1,default:"auto"},adSlot:{type:String,required:!1,default:d.Z.adSlot}},mounted:function(){var t=document.createElement("script");t.type="text/javascript",t.text="(adsbygoogle = window.adsbygoogle || []).push({});",document.getElementsByTagName("body")[0].appendChild(t)}},u=i(3744);const c=(0,u.Z)(l,[["render",a]]);var h=c},593:function(t,e,i){i.d(e,{Z:function(){return u}});var n=i(6252),o=i(3577),s=["type","disabled"];function r(t,e,i,r,a,d){return(0,n.wg)(),(0,n.iD)("button",{type:i.type,disabled:i.disabled,class:(0,o.C_)(["items-center theme px-4 py-2 font-medium capitalize tracking-widest active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:shadow-outline-gray transition ease-in-out duration-150",[i.disabled?"bg-primary-500 dark:bg-primaryDark-accent text-secondary-000 dark:text-secondaryDark-grey":i.theme,i.rounded,i.textSize]])},[(0,n.WI)(t.$slots,"default",{class:""})],10,s)}var a={name:"PsButton",props:{type:{type:String,default:"submit"},theme:{type:String,default:"bg-primary-500 dark:bg-primaryDark-accent text-textLight dark:text-textDark"},rounded:{type:String,default:"rounded-x sm:rounded-xl lg:rounded-2xl"},disabled:{type:Boolean,default:!1},textSize:{type:String,default:"lg:text-sm sm:text-xs text-xxs"}}},d=i(3744);const l=(0,d.Z)(a,[["render",r]]);var u=l},3427:function(t,e,i){i.r(e),i.d(e,{default:function(){return H}});var n=i(6252),o=i(3577),s={class:"hidden md:block"},r={class:"sm:mt-32 lg:mt-36 mt-28 mb-16 w-mobile sm:w-median lg:w-large mx-auto"},a={class:"mb-4"},d={class:"i"},l={class:"flex flex-row mb-16"},u={class:"w-full flex flex-col"},c={class:"flex flex-col"};function h(t,e,i,h,p,f){var m=(0,n.up)("ps-ad-sense"),g=(0,n.up)("ps-label"),v=(0,n.up)("noti-horizontal-item"),y=(0,n.up)("ps-button");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",s,[(0,n.Wm)(m,{adStyle:"display:inline-block;width:970px;height:90px",adFormat:"horizontal"})]),(0,n._)("div",r,[(0,n._)("div",a,[(0,n._)("div",d,[(0,n.Wm)(g,{class:"text-xl sm:text-2xl lg:text-3xl font-medium"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,o.zw)(t.$t("notification_list__notification_list")),1)]})),_:1})]),(0,n._)("div",l,[(0,n._)("div",u,[(0,n._)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(h.notiProvider.notiList.data,(function(t){return(0,n.wg)(),(0,n.iD)("div",{class:"w-full mt-2",key:t.id},[(0,n.Wm)(v,{noti:t,onClick:h.notiClicked},null,8,["noti","onClick"])])})),128))]),0==h.notiProvider.loading.value?((0,n.wg)(),(0,n.j4)(y,{key:0,class:(0,o.C_)(["w-60 mx-auto mt-8",h.notiProvider.isNoMoreRecord?"hidden":""]),onClick:h.loadMore},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,o.zw)(t.$t("notification_list__load_more")),1)]})),_:1},8,["onClick","class"])):((0,n.wg)(),(0,n.j4)(y,{key:1,class:"w-60 mx-auto mt-8",onClick:h.loadMore,disabled:!0},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,o.zw)(t.$t("notification_list__loading")),1)]})),_:1},8,["onClick"]))])])])])],64)}var p=i(3824),f=i(593),m=i(9576),g=i(2225),v=i(9399),y=i(8593),x={class:"flex flex-row"},w={class:"rounded-2xl bg-background dark:bg-primaryDark-black"},b={class:"sm:w-36 w-24 h-16"},_=["src"],k={class:"flex sm:hidden flex-col ms-4"},Z={class:"hidden sm:flex flex-col ms-4"};function L(t,e,i,o,s,r){var a=(0,n.up)("ps-label");return(0,n.wg)(),(0,n.iD)("div",{class:"w-full cursor-pointer h-20 bg-primary-000 dark:bg-primaryDark-black p-2 rounded-2xl",onClick:e[1]||(e[1]=function(t){return null!=i.onClick?i.onClick(i.noti):null})},[(0,n._)("div",x,[(0,n._)("div",w,[(0,n._)("div",b,[(0,n._)("img",{alt:"Placeholder",width:"15px",height:"10px",class:"block w-full h-full rounded-2xl object-contain",src:o.notiProvider.imageUrl(i.noti?i.noti.defaultPhoto.imgPath:"",2),onError:e[0]||(e[0]=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return o.notiProvider.defaultCarImage&&(t=o.notiProvider).defaultCarImage.apply(t,e)})},null,40,_)])]),(0,n._)("div",k,[(0,n.Wm)(a,{class:"text-xs sm:text-sm lg:text-base",innerHTML:i.noti.message.length>18?i.noti.message.slice(0,15)+" ....":i.noti.message},null,8,["innerHTML"]),(0,n.Wm)(a,{class:"text-xxs sm:text-xxs lg:text-xs mt-1",innerHTML:i.noti.description.length>100?i.noti.description.slice(0,95)+" ....":i.noti.description},null,8,["innerHTML"])]),(0,n._)("div",Z,[(0,n.Wm)(a,{class:"text-xs sm:text-sm lg:text-base",innerHTML:i.noti.message.length>50?i.noti.message.slice(0,45)+" ....":i.noti.message},null,8,["innerHTML"]),(0,n.Wm)(a,{class:"text-xxs sm:text-xxs lg:text-xs mt-1",innerHTML:i.noti.description.length>200?i.noti.description.slice(0,190)+" ....":i.noti.description},null,8,["innerHTML"])])])])}var M=i(6626),N={name:"NotiHorizontalItem",components:{PsLabel:m.Z},props:{noti:{type:M.Z,default:new M.Z},onClick:Function},setup:function(){var t=(0,y.ZK)();return{notiProvider:t}}},I=i(3744);const P=(0,I.Z)(N,[["render",L]]);var C=P,S=function(){function t(){this.userId="",this.deviceToken=""}return t.prototype.NotiParameterHolder=function(){this.userId="",this.deviceToken=""},t.prototype.toMap=function(){var t={};return t["user_id"]=this.userId,t["device_token"]=this.deviceToken,t},t}(),D=S,T={name:"NotificationListView",components:{NotiHorizontalItem:C,PsButton:f.Z,PsLabel:m.Z,PsAdSense:g.Z},setup:function(){var t=v.$.psValueHolder,e=t.getLoginUserId(),i=(0,y.ZK)(),n=new D;function o(){i.loadNotiList(n)}function s(t){p.Z.push({name:"notification",params:{notificationId:t.id,message:t.message,description:t.description,image:t.defaultPhoto.imgPath}})}return n.userId=e,i.loadNotiList(n),{notiProvider:i,notiClicked:s,loadMore:o}}};const U=(0,I.Z)(T,[["render",h]]);var H=U}}]);
//# sourceMappingURL=NotificationList.9c0bce05.js.map